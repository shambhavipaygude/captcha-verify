<!DOCTYPE html>
<html>
    <head>
        <title>
            Captcha
        </title>
    </head>
    <body>
        
        <style>
            .gimmehead
            {
                font-family: Arial;
                font-size: 17px;
                font-weight: bold;
                color: rgb(72, 70, 70);
                margin-bottom: 25px;
                margin-left: 10px;
            }
            .nohead
            {
                font-family: Arial;
                font-size: 13.5px;
                font-weight: bold;
                color:rgb(91, 88, 88);
                margin-bottom: 2px;
                margin-left: 10px;
            }
            .nohead2
            {
                font-family: Arial;
                font-size: 12.5px;
                font-weight: bold;
                color:rgb(57, 56, 56);
                margin-top: 2px;
                margin-bottom: 0px;
                margin-left: 10px;
            }
            .nohead3
            {
                font-family: Arial;
                font-size: 13.5px;
                font-weight: bold;
                color:rgb(91, 88, 88);
                margin-left: 10px;
                margin-top: 20px;
                margin-bottom: 0px;
            }
            
            .button
            {
                margin-left: 10px;
            }
            .inp
            {
                margin-left: 10px;
            }
            .sub
            {
                background-color: rgb(71, 71, 229);
                color: white;
                font-family: Arial;
                border-radius: 2px;
                border-color: rgb(71, 71, 229);
            }
            div {
                width: 200px;
                padding: 10px;
                border: 2px solid gray;
                margin: 0;
                margin-left: 10px;
            }           
            </style>

        <p class = "gimmehead">
            Security Check
        </p>

        <p class = "nohead">
            Please enter the text below
        </p>

        <div id = "captcha"  >
        </div>
        
        </br>
        <p class = "nohead2">
            Can't read the above text?
        </p>

        <a href = "#" class = "button" onclick="get_text()">
            Generate Captcha 
        </a>

        <p class = "nohead3">
            Text in the box:
        </p>

        <input id = "inp" class = "inp" type = "text" placeholder="Enter">
        
        <button class = "sub" onClick = "check()">
            Submit
        </button>
        </br>
        <p id = "final">

        </p>
        
        <script>
                
            function get_randNumber(max,min)
            {
                const randno = Math.floor(Math.random()* (max-min+1)+min);   //floor(random no. generated with max = length of gallery) : 0,1
                return randno;
            }
            function get_text()
            {   
                text = ""
                for(i=0;i<2;i++)
                {
                    text += String.fromCharCode(get_randNumber(65,90));   //capital
                    text += String.fromCharCode(get_randNumber(97,122)); //small
                    text += String.fromCharCode(get_randNumber(48,57)); //numbers
                }
                const captchayay = document.getElementById("captcha");
                captchayay.textContent = text;
                return text;
                
            }
            

            function check()
            {   
                let x = "Captcha Valid!"
                let y = "Captcha Invalid. Please try again."
                const fin = document.getElementById("final");
                const inpEl = document.getElementById("inp");
                const inputvalue = document.getElementById("inp").value;
                
                if (inputvalue === text)
                {
                    fin.textContent = x
                }
                else
                {
                    fin.textContent = y
                    get_text()
                }
                inpEl.value = ""
                console.log(document.getElementById("inp").value)
                return fin.textContent
                
            }
                        
        </script>
</body>
</html>


